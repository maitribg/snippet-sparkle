<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíñ Snippet Sparkle</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Sortable.js for drag and drop -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="min-h-screen transition-colors duration-300">
    
    <!-- Sticky Navigation Bar -->
    <nav class="sticky top-0 z-50 backdrop-blur-md bg-white/80 dark:bg-gray-900/80 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <div class="flex justify-between items-center flex-wrap gap-3">
                <h1 class="font-pacifico text-3xl sm:text-4xl text-gradient leading-relaxed py-1">üíñ Snippet Sparkle</h1>
                
                <div class="flex gap-3 items-center">
                    <!-- User Profile (hidden until logged in) -->
                    <div id="userProfile" class="hidden items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-pink-100 to-purple-100 dark:from-pink-900/30 dark:to-purple-900/30">
                        <img id="userPhoto" src="" alt="User" class="w-8 h-8 rounded-full">
                        <span id="userName" class="font-semibold text-sm"></span>
                    </div>
                    
                    <!-- Auth Button -->
                    <button id="authBtn" class="btn-secondary px-4 py-2 rounded-full" title="Sign in with Google">
                        <span id="authBtnText">üîê Sign In</span>
                    </button>
                    
                    <!-- Documentation Link -->
                    <a href="docs.html" class="btn-secondary px-4 py-2 rounded-full" title="How to use">
                        üìñ Help
                    </a>
                    
                    <!-- Theme Toggle -->
                    <button id="themeToggle" class="btn-secondary px-4 py-2 rounded-full" title="Toggle theme">
                        <span id="themeIcon">üåô</span>
                    </button>
                    
                    <!-- Import/Export -->
                    <button id="exportBtn" class="btn-secondary px-4 py-2 rounded-full" title="Export snippets">
                        üì§
                    </button>
                    <button id="importBtn" class="btn-secondary px-4 py-2 rounded-full" title="Import snippets">
                        üì•
                    </button>
                    <input type="file" id="importFile" accept=".json" class="hidden">
                    
                    <!-- Add Snippet Button -->
                    <button id="addSnippetBtn" class="btn-primary px-6 py-2 rounded-full shadow-glow">
                        ‚ú® Add Snippet
                    </button>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Empty State -->
        <div id="emptyState" class="text-center py-20 hidden">
            <div class="text-6xl mb-4">‚ú®</div>
            <h2 class="font-quicksand text-2xl font-semibold text-gray-700 dark:text-gray-300 mb-2">No snippets yet!</h2>
            <p class="text-gray-500 dark:text-gray-400 mb-6">Create your first snippet to get started</p>
            <button class="btn-primary px-8 py-3 rounded-full shadow-glow add-snippet-trigger">
                ‚ú® Create First Snippet
            </button>
            <p class="text-gray-400 dark:text-gray-500 text-sm mt-4">
                New here? Check out the <a href="docs.html" class="text-purple-600 dark:text-purple-400 hover:underline">üìñ Documentation</a> to learn how to use Snippet Sparkle
            </p>
        </div>
        
        <!-- Snippets Grid -->
        <div id="snippetsContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Snippet cards will be dynamically inserted here -->
        </div>
    </main>
    
    <!-- Modal for Add/Edit Snippet -->
    <div id="snippetModal" class="modal-overlay hidden">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-pacifico text-3xl text-gradient leading-relaxed py-1" id="modalTitle">Add Snippet</h2>
                <button id="closeModal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none">
                    √ó
                </button>
            </div>
            
            <form id="snippetForm">
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2" for="snippetTitle">
                        Title
                    </label>
                    <input 
                        type="text" 
                        id="snippetTitle" 
                        class="input-field" 
                        placeholder="e.g., LinkedIn DM, Cold Email..."
                        required
                    >
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2" for="snippetMessage">
                        Message Template
                    </label>
                    <textarea 
                        id="snippetMessage" 
                        rows="8" 
                        class="input-field" 
                        placeholder="Hi [NAME], I saw you're a [ROLE] at [COMPANY]..."
                        required
                    ></textarea>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">
                        üí° Use [NAME], [COMPANY], and [ROLE] as placeholders
                    </p>
                </div>
                
                <div class="flex gap-3">
                    <button type="submit" class="btn-primary flex-1 py-3 rounded-2xl">
                        üíæ Save Snippet
                    </button>
                    <button type="button" id="cancelModal" class="btn-secondary flex-1 py-3 rounded-2xl">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Modal for Copy with Placeholder Replacement -->
    <div id="copyModal" class="modal-overlay hidden">
        <div class="modal-content max-w-md">
            <div class="flex justify-between items-center mb-6">
                <h2 class="font-pacifico text-2xl text-gradient leading-relaxed py-1">Fill Details</h2>
                <button id="closeCopyModal" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-3xl leading-none">
                    √ó
                </button>
            </div>
            
            <form id="copyForm">
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2" for="copyName">
                        Name <span class="text-gray-400 text-sm">(optional)</span>
                    </label>
                    <input 
                        type="text" 
                        id="copyName" 
                        class="input-field" 
                        placeholder="Recipient's name"
                    >
                </div>
                
                <div class="mb-4">
                    <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2" for="copyCompany">
                        Company <span class="text-gray-400 text-sm">(optional)</span>
                    </label>
                    <input 
                        type="text" 
                        id="copyCompany" 
                        class="input-field" 
                        placeholder="Company name"
                    >
                </div>
                
                <div class="mb-6">
                    <label class="block text-gray-700 dark:text-gray-300 font-semibold mb-2" for="copyRole">
                        Role <span class="text-gray-400 text-sm">(optional)</span>
                    </label>
                    <input 
                        type="text" 
                        id="copyRole" 
                        class="input-field" 
                        placeholder="e.g., Software Engineer, Product Manager"
                    >
                </div>
                
                <div class="flex gap-3">
                    <button type="submit" class="btn-primary flex-1 py-3 rounded-2xl">
                        üìã Copy to Clipboard
                    </button>
                    <button type="button" id="cancelCopyModal" class="btn-secondary flex-1 py-3 rounded-2xl">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage">‚ú® Snippet copied!</span>
    </div>
    
    <!-- Firebase Configuration -->
    <script src="firebase-config.js"></script>
    
    <!-- Custom Script -->
    <script src="script.js"></script>
</body>
</html>
